<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Diagnosis Asma</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/icon.png" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500&family=Jost:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class=" bg-white p-0">
        <!-- Spinner Start -->
        <div id="spinner"
            class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->


        <!-- Navbar & Hero Start -->
        <div class="p-0">
            <nav class="navbar navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0">
                <div class="container">
                    <!-- <a href="" class="navbar-brand p-0">
                        <h1 class="m-0">DGital</h1>
                        <img src="img/logo.png" alt="Logo">
                    </a> -->
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarCollapse">
                        <span class="fa fa-bars"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarCollapse">
                        <div class="navbar-nav py-0 px-5">
                            <a href="#" class="nav-item nav-link">Utama</a>
                            <a href="#about" class="nav-item nav-link">Tentang</a>
                            <a href="#diagnosis" class="nav-item nav-link">Diagnosis</a>
                            <a href="https://mryanafz.github.io/" target="_blank" class="nav-item nav-link">Tentang
                                Saya</a>
                        </div>
                    </div>
                    <!-- <a href="" class="btn rounded-pill py-2 px-4 ms-3 me-5 d-none d-lg-block">Portfolio</a> -->
                </div>
            </nav>

            <div class=" bg-primary hero-header">
                <div class="container px-lg-5">
                    <div class="row align-items-end">
                        <div class="col-lg-6 text-center text-lg-start mb-5">
                            <h1 class="text-white mb-4 animated slideInDown">Selamat Datang di Aplikasi Diagnosis
                                Penyakit Asma</h1>
                            <p class="text-white pb-3 animated slideInDown">ACT (Asthma Control Test)
                                merupakan metode pemeriksaan yang ditetapkan oleh Kementerian Kesehatan RI
                                untuk mengelompokkan ketegori asma. </p>
                            <a href="#about"
                                class="btn btn-secondary px-4 py-sm-3 px-sm-5 rounded-pill me-3 animated slideInLeft">Lebih
                                lanjut</a>
                            <!-- <a href="" class="btn btn-light py-sm-3 px-sm-5 rounded-pill animated slideInRight">Contact Us</a> -->
                        </div>
                        <div class="col-lg-6 text-center text-lg-start">
                            <img class="img-fluid animated zoomIn" src="img/hero2.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Navbar & Hero End -->


        <!-- Feature Start -->
        <div class=" py-5" id="about">
            <div class="container py-5 px-lg-5">
                <div class="wow fadeInUp" data-wow-delay="0.1s">
                    <p class="section-title text-secondary justify-content-center"><span></span>Tentang
                        Aplikasi<span></span>
                    </p>
                    <div class="row justify-content-center">
                        <div class="col-md-11">
                            <p class="text-center">Asma adalah penyakit saluran nafas kronik yang sampai saat ini belum
                                dijumpai obat untuk
                                menyembuhkannya, tetapi penyakit ini dapat dikontrol. Asthma
                                Control Test
                                (ACT) adalah suatu uji skrining berupa
                                kuesioner tentang penilaian klinis
                                seorang penderita asma. Asthma Control Test dapat mengetahui status kontrol asma pasien
                                yang meliputi asma terkontrol, asma terkontrol penuh, atau
                                atau asma tidak terkontrol.</p>
                        </div>
                    </div>
                    <!-- <h1 class="text-center mb-5">Our Team Members</h1> -->
                </div>
                <div class="row g-4 mt-4">
                    <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.1s">
                        <div class="feature-item bg-light rounded text-center p-4">
                            <i class="fa fa-3x fa-notes-medical text-primary mb-4"></i>
                            <h5 class="mb-3">Diagnosis</h5>
                            <p class="m-0 text-p">
                                Menggunakan pendekatan machine learning untuk melakukan diagnosis penyakit asma.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.3s">
                        <div class="feature-item bg-light rounded text-center p-4">
                            <i class="fa fa-3x fa-database text-primary mb-4"></i>
                            <h5 class="mb-3">Dataset</h5>
                            <p class="m-0">Menggunakan data Asthma Control Test tahun 2020 dari Puskesmas Martapura
                                Timur, Kalimantan Selatan.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.5s">
                        <div class="feature-item bg-light rounded text-center p-4">
                            <i class="fa fa-3x fa-cogs text-primary mb-4"></i>
                            <h5 class="mb-3">Model</h5>
                            <p class="m-0">Menggunakan algoritma klasifikasi <a
                                    href="https://xgboost.readthedocs.io/en/stable/" target="_blank">XGBoost</a> untuk
                                membangun
                                model.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Feature End -->





        <!-- Newsletter Start -->
        <div class=" bg-primary newsletter py-5 wow fadeInUp" data-wow-delay="0.1s" id="diagnosis">
            <div class="container py-5 px-lg-5">
                <div class="row justify-content-center">
                    <div class="col-lg-7">
                        <p class="section-title text-white justify-content-center"><span></span>Diagnosis<span></span>
                        </p>
                        <h1 class="text-center text-white">Asthma Control Test</h1>
                        <p class="text-white mb-4 text-center">Silahkan isi form untuk melakukan diagnosis</p>
                        <div class="position-relative w-100 mt-3">
                            <!-- <input class="form-control border-0 rounded-pill w-100 ps-4 pe-5" type="text"
                                placeholder="Enter Your Email" style="height: 48px;">
                            <button type="button" class="btn shadow-none position-absolute top-0 end-0 mt-1 me-2"><i
                                    class="fa fa-paper-plane text-primary fs-4"></i></button> -->

                            <form method="POST" id="myform" autocomplete="off">
                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white">Usia</label>
                                    <input name="usia" type="number" class="form-control form-act" id="usia"
                                        aria-describedby="emailHelp" placeholder="Inputkan usia anda" value="">
                                    <div class="form-text text-warning d-none ms-2" id="alert-usia">Anda belum
                                        menginputkan
                                        usia
                                    </div>
                                </div>
                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white">Jenis Kelamin</label>
                                    <select class="form-select form-act" aria-label="Default select example"
                                        name="jenisKelamin" id="jenisKelamin">
                                        <option value="">-- Pilih --</option>
                                        <option value="1">Laki-laki</option>
                                        <option value="0">Perempuan</option>
                                    </select>
                                    <div class="form-text text-warning d-none ms-2" id="alert-jenisKelamin">Anda belum
                                        memilih
                                    </div>
                                </div>
                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white">Dalam 4 minggu
                                        terakhir seberapa sering asma anda mengganggu?</label>
                                    <select class="form-select form-act" aria-label="Default select example"
                                        name="asmaKambuh" id="asmaKambuh">
                                        <option value="">-- Pilih --</option>
                                        <option value="1">Selalu</option>
                                        <option value="2">Sering</option>
                                        <option value="3">Kadang-kadang</option>
                                        <option value="4">Jarang</option>
                                        <option value="5">Tidak Pernah</option>
                                    </select>
                                    <div class="form-text text-warning d-none ms-2" id="alert-asmaKambuh">Anda belum
                                        memilih
                                    </div>
                                </div>
                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white">Dalam 4 minggu
                                        terakhir seberapa sering anda mengalami sesak
                                        nafas?</label>
                                    <select class="form-select form-act" aria-label="Default select example"
                                        name="sesakNafasLambuh" id="sesakNafasLambuh">
                                        <option value="">-- Pilih --</option>
                                        <option value="1">> 1x / hari </option>
                                        <option value="2">1x / hari</option>
                                        <option value="3">3 – 6x / minggu</option>
                                        <option value="4">1 – 2x / minggu</option>
                                        <option value="5">Tidak Pernah</option>
                                    </select>
                                    <div class="form-text text-warning d-none ms-2" id="alert-sesakNafasLambuh">Anda
                                        belum
                                        memilih
                                    </div>
                                </div>
                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white">Dalam 4 minggu
                                        terakhir seberapa sering gejala asma menyebabkan
                                        anda terbangun tengah malam?</label>
                                    <select class="form-select form-act" aria-label="Default select example"
                                        name="gejalaMalamHari" id="gejalaMalamHari">
                                        <option value="">-- Pilih --</option>
                                        <option value="1">>= 4x / minggu</option>
                                        <option value="2">2 – 3x / minggu</option>
                                        <option value="3">1x / minggu</option>
                                        <option value="4">1 – 2x / bulan</option>
                                        <option value="5">Tidak Pernah</option>
                                    </select>
                                    <div class="form-text text-warning d-none ms-2" id="alert-gejalaMalamHari">Anda
                                        belum
                                        memilih
                                    </div>
                                </div>

                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white"> Dalam 4 minggu
                                        terakhir seberapa sering anda menggunakan obat
                                        semprot atau obat oral untuk melegakan pernapasan?</label>
                                    <select class="form-select form-act" aria-label="Default select example"
                                        name="penangananPernapasan" id="penangananPernapasan">
                                        <option value="">-- Pilih --</option>
                                        <option value="1">>= 3x / hari</option>
                                        <option value="2">1 – 2x / hari</option>
                                        <option value="3">2 – 3x / minggu</option>
                                        <option value="4">&#60= 1x / minggu</option>
                                        <option value="5">Tidak Pernah</option>
                                    </select>
                                    <div class="form-text text-warning d-none ms-2" id="alert-penangananPernapasan">Anda
                                        belum memilih
                                    </div>
                                </div>

                                <div class="mb-5">
                                    <label for="exampleInputEmail1" class="form-label text-white">Bagaimana Anda sendiri
                                        menilai tingkat kontrol asma anda dalam 4
                                        minggu terakhir? </label>
                                    <select class="form-select form-act" aria-label="Default select example"
                                        name="tingkatKontrolAsma" id="tingkatKontrolAsma">
                                        <option value="">-- Pilih --</option>
                                        <option value="1">Tidak terkontrol sama sekali</option>
                                        <option value="2">Kurang terkontrol</option>
                                        <option value="3">Cukup terkontrol</option>
                                        <option value="4">Terkontrol dengan baik</option>
                                        <option value="5">Tidak pernah</option>
                                    </select>
                                    <div class="form-text text-warning d-none ms-2" id="alert-tingkatKontrolAsma">Anda
                                        belum
                                        memilih</div>
                                </div>
                            </form>
                            <div class="row">
                                <div class="col-md-12 text-center">
                                    <button id="bersih"
                                        class="btn btn-secondary text-center py-2 px-3 py-sm-2 px-sm-4 rounded-pill me-3 animated slideInLeft text">
                                        </span>Bersihkan Form
                                    </button>
                                    <button type="submit" id="prediksi"
                                        class="btn btn-secondary text-center py-2 px-3 py-sm-2 px-sm-5 rounded-pill me-3 animated slideInLeft text">
                                        <span id="loading" class="spinner-border spinner-border-sm me-1 d-none"
                                            role="status" aria-hidden="true"></span>Diagnosis
                                    </button>
                                </div>
                            </div>
                            <div id="hasil-diagnosis" style="padding-top: 100px;">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Newsletter End -->

        <!-- Team Start -->
        <div class=" py-5">
            <div class="container py-5 px-lg-5">
                <div class="wow fadeInUp" data-wow-delay="0.1s">
                    <p class="section-title text-secondary justify-content-center"><span></span>Fakta Tentang
                        Asma<span></span>
                    </p>
                    <!-- <h1 class="text-center mb-5">Our Team Members</h1> -->
                </div>
                <div class="row g-4 justify-content-center">
                    <div class="col-md-4 wow fadeInUp" data-wow-delay="0.1s">
                        <img class="img-fluid animated zoomIn" src="img/hero2.png" alt="">
                    </div>
                    <div class="col-md-6 wow fadeInUp p-4 text-center text-md-start" data-wow-delay="0.5s">
                        <p><i class="fas fa-check me-1 text-primary"></i> Asma merupakan salah satu penyakit paru.</p>
                        <p><i class="fas fa-check me-1 text-primary"></i> Penyakit asma tidak bisa disembuhkan namun
                            bisa dikontrol.</p>
                        <p><i class="fas fa-check me-1 text-primary"></i> Penggunaan inhaler tidak membuat
                            ketergantungan.</p>
                        <p><i class="fas fa-check me-1 text-primary"></i> Penderita yang kambuh harus mengatur
                            napasnya dalam posisi duduk.</p>
                        <p><i class="fas fa-check me-1 text-primary"></i> Anak dari penderita asma tidak pasti juga
                            menderita
                            asma.</p>
                        <p><i class="fas fa-check me-1 text-primary"></i> Penderita asma boleh berolahraga untuk menjaga
                            kebugaran tubuhnya.</p>
                        <p class="fs-0" style="color: #c1c1c1; font-size: small;">sumber: Direktorat P2PTM</p>



                    </div>
                </div>
            </div>
        </div>
        <!-- Team End -->


        <!-- Footer Start -->
        <div class="container-fluid bg-primary text-light footer wow fadeIn" data-wow-delay="0.1s">
            <!-- <div class="container py-5 px-lg-5">
                <div class="row g-5 justify-content-center">
                    <div class="col-md-6 col-lg-3">
                        <div class="d-flex pt-2">
                            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-instagram"></i></a>
                            <a class="btn btn-outline-light btn-social" href=""><i class="fas fa-envelope"></i></a>
                            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="container px-lg-5">
                <div class="copyright">
                    <div class="row justify-content-center">
                        <div class="col-md-9 text-center text-md-start mb-3 mb-md-0">

                            <!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
                            <a href="mailto:ryan.afrizal55@gmail.com"><i
                                    class="fas fa-envelope me-2"></i>ryan.afrizal55@gmail.com</a><br>
                            <a href="https://mryanafz.github.io/"><i class="fab fa-github me-2"></i>mryanafz</a><br>
                            <a href="https://www.instagram.com/mryanafz/"><i
                                    class="fab fa-instagram me-2"></i>mryanafz</a>

                        </div>
                        <div class="col-md-3 text-center text-md-end mb-3 mb-md-0">

                            <!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
                            Designed By <a class="border-bottom" href="https://htmlcodex.com" target="_blank">HTML
                                Codex</a><br>
                            Distributed By a <a class="border-bottom" href="https://themewagon.com"
                                target="_blank">ThemeWagon</a><br>
                            App By <a class="border-bottom" href="https://mryanafz.github.io/" target="_blank">Muhammad
                                Ryan
                                Afrizal</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-secondary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    <script>
        $('#bersih').on('click', function (e) {
            e.preventDefault();
            $('html,body').animate({ scrollTop: $('#diagnosis').offset().top }, 'fast');
            $('input').val('')
            $('#myform select').val('').trigger('change')
            $('#hasil-diagnosis').html('')
        });


        $('#prediksi').on('click', function (e) {
            e.preventDefault();
            $('#loading').removeClass('d-none')
            $('#myform').submit();
            $('#hasil-diagnosis').html('')
        });

        $('#myform').submit(function (e) {
            e.preventDefault();
            var data = new FormData(this);


            // Display the key/value formdata
            alrt = []
            nameInput = []
            for (var d of data.entries()) {
                if (d[1] == '') {
                    alrt.push(d[0])
                }
                // console.log(d[0] + ', ' + d[1]);
                nameInput.push(d[0])
            }

            //menyembunyikan alert
            nameInput.forEach(removeAlert);
            if (alrt.length != 0) { //jika ada input kosong
                alrt.forEach(renderAlert);
                $('#loading').addClass('d-none')
            }
            else {
                // console.log('tidak ada kosong')
                // console.log(data.get('sepalLength'))
                $.ajax({
                    url: 'http://asmaapi.herokuapp.com/',
                    // url: 'http://localhost:5000/',
                    type: 'POST',
                    dataType: 'JSON',
                    data: data,
                    cache: false,
                    contentType: false,
                    processData: false,
                    success: function (data) {
                        // predict = JSON.stringify(data)
                        // predicted = Object.values(data)[0]
                        console.log(data)
                        // renderPrediksi(data)
                        $('#kontrol').html(data)
                        renderPrediksi(data)
                        $('html,body').animate({ scrollTop: $('#hasil-diagnosis').offset().top }, 'fast');
                        $('#loading').addClass('d-none')


                    },
                })

            }
            console.log('toggle')

        });

        function renderAlert(value, index, array) {
            $("#alert-" + value).removeClass('d-none')
            // console.log(value)
        }

        function removeAlert(value, index, array) {
            $("#alert-" + value).addClass('d-none')
            // console.log(value)
        }

        function renderPrediksi(prediksi) {
            if (prediksi == 'Tidak Terkontrol') {
                $("#hasil-diagnosis").html(
                    `
                <div class="card wow fadeInUp" data-wow-delay="0.1s">
                    <h4 class="text-center mt-3 fw-bold">Hasil Diagnosis</h4>
                    <h5 class="text-center text-danger" id="kontrol">`+ prediksi + `</h5>
                    <div class="card-body mt-1 px-5" id="kontrol-keterangan">
                        <p style="text-align: justify;">
                            Asma belum terkontrol. Konsultasikan kepada dokter untuk mendapatkan program pengobatan agar dapat mencapai kondisi asma terkontrol penuh.
                        </p>

                    </div>
                </div>
                `
                )
            }
            else if (prediksi == 'Terkontrol') {
                $("#hasil-diagnosis").html(
                    `
                <div class="card wow fadeInUp" data-wow-delay="0.1s">
                    <h4 class="text-center mt-3 fw-bold">Hasil Diagnosis</h4>
                    <h5 class="text-center text-warning" id="kontrol">`+ prediksi + `</h5>
                    <div class="card-body mt-1 px-5" id="kontrol-keterangan">
                        <p style="text-align: justify;">
                            Asma cukup terkontrol tetapi belum total.
                            Konsultasikan pada dokter cara untuk mencapai kondisi terkontrol penuh.
                        </p>

                    </div>
                </div>
                `
                )

            }
            else if (prediksi == 'Terkontrol Penuh') {
                $("#hasil-diagnosis").html(
                    `
                <div class="card wow fadeInUp" data-wow-delay="0.1s">
                    <h4 class="text-center mt-3 fw-bold">Hasil Diagnosis</h4>
                    <h5 class="text-center text-success" id="kontrol">`+ prediksi + `</h5>
                    <div class="card-body mt-1 px-5" id="kontrol-keterangan">
                        <p style="text-align: justify;">
                            Asma sudah terkontrol penuh. Pertahankan pengobatan yang digunakan.
                            Selalu menghindari pencetus dan tetap berkonsultasi dengan dokter anda.
                        </p>

                    </div>
                </div>
                `
                )
            }
        }





    </script>




</body>

</html>